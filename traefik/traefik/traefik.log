time="2023-07-17T03:51:12Z" level=info msg="Traefik version 2.10.3 built on 2023-06-19T16:18:54Z"
time="2023-07-17T03:51:12Z" level=debug msg="Static configuration loaded {\"global\":{\"checkNewVersion\":true},\"serversTransport\":{\"maxIdleConnsPerHost\":200},\"entryPoints\":{\"http\":{\"address\":\":80\",\"transport\":{\"lifeCycle\":{\"graceTimeOut\":\"10s\"},\"respondingTimeouts\":{\"idleTimeout\":\"3m0s\"}},\"forwardedHeaders\":{},\"http\":{},\"http2\":{\"maxConcurrentStreams\":250},\"udp\":{\"timeout\":\"3s\"}},\"traefik\":{\"address\":\":8080\",\"transport\":{\"lifeCycle\":{\"graceTimeOut\":\"10s\"},\"respondingTimeouts\":{\"idleTimeout\":\"3m0s\"}},\"forwardedHeaders\":{},\"http\":{},\"http2\":{\"maxConcurrentStreams\":250},\"udp\":{\"timeout\":\"3s\"}}},\"providers\":{\"providersThrottleDuration\":\"2s\",\"docker\":{\"watch\":true,\"endpoint\":\"unix:///var/run/docker.sock\",\"defaultRule\":\"Host(`{{ normalize .Name }}`)\",\"exposedByDefault\":true,\"swarmModeRefreshSeconds\":\"15s\"}},\"api\":{\"insecure\":true,\"dashboard\":true},\"log\":{\"level\":\"DEBUG\",\"filePath\":\"/var/log/traefik/traefik.log\",\"format\":\"common\"},\"accessLog\":{\"filePath\":\"/var/log/traefik/access.log\",\"format\":\"common\",\"filters\":{},\"fields\":{\"defaultMode\":\"keep\",\"headers\":{\"defaultMode\":\"drop\"}}},\"tracing\":{\"serviceName\":\"traefik\",\"jaeger\":{\"samplingServerURL\":\"http://10.1.2.48:5778/sampling\",\"samplingType\":\"const\",\"samplingParam\":1,\"localAgentHostPort\":\"127.0.0.1:6831\",\"propagation\":\"jaeger\",\"traceContextHeaderName\":\"uber-trace-id\",\"collector\":{\"endpoint\":\"http://10.1.2.48:14268/api/traces?format=jaeger.thrift\"},\"disableAttemptReconnecting\":true}},\"experimental\":{\"plugins\":{\"traefik-api-key-middleware\":{\"moduleName\":\"github.com/dtomlinson91/traefik-api-key-middleware\",\"version\":\"v0.1.2\"}}}}"
time="2023-07-17T03:51:12Z" level=info msg="\nStats collection is disabled.\nHelp us improve Traefik by turning this feature on :)\nMore details on: https://doc.traefik.io/traefik/contributing/data-collection/\n"
time="2023-07-17T03:51:12Z" level=debug msg="loading of plugin: traefik-api-key-middleware: github.com/dtomlinson91/traefik-api-key-middleware@v0.1.2"
time="2023-07-17T03:51:15Z" level=debug msg="debug logging disabled" tracingProviderName=jaeger
time="2023-07-17T03:51:15Z" level=debug msg="Initializing logging reporter" tracingProviderName=jaeger
time="2023-07-17T03:51:15Z" level=debug msg="debug logging disabled" tracingProviderName=jaeger
time="2023-07-17T03:51:15Z" level=debug msg="Jaeger tracer configured"
time="2023-07-17T03:51:15Z" level=info msg="Starting provider aggregator aggregator.ProviderAggregator"
time="2023-07-17T03:51:15Z" level=debug msg="Starting TCP Server" entryPointName=http
time="2023-07-17T03:51:15Z" level=debug msg="Starting TCP Server" entryPointName=traefik
time="2023-07-17T03:51:15Z" level=info msg="Starting provider *traefik.Provider"
time="2023-07-17T03:51:15Z" level=debug msg="*traefik.Provider provider configuration: {}"
time="2023-07-17T03:51:15Z" level=info msg="Starting provider *docker.Provider"
time="2023-07-17T03:51:15Z" level=debug msg="*docker.Provider provider configuration: {\"watch\":true,\"endpoint\":\"unix:///var/run/docker.sock\",\"defaultRule\":\"Host(`{{ normalize .Name }}`)\",\"exposedByDefault\":true,\"swarmModeRefreshSeconds\":\"15s\"}"
time="2023-07-17T03:51:15Z" level=info msg="Starting provider *acme.ChallengeTLSALPN"
time="2023-07-17T03:51:15Z" level=debug msg="*acme.ChallengeTLSALPN provider configuration: {}"
time="2023-07-17T03:51:15Z" level=debug msg="Configuration received: {\"http\":{\"routers\":{\"api\":{\"entryPoints\":[\"traefik\"],\"service\":\"api@internal\",\"rule\":\"PathPrefix(`/api`)\",\"priority\":2147483646},\"dashboard\":{\"entryPoints\":[\"traefik\"],\"middlewares\":[\"dashboard_redirect@internal\",\"dashboard_stripprefix@internal\"],\"service\":\"dashboard@internal\",\"rule\":\"PathPrefix(`/`)\",\"priority\":2147483645}},\"services\":{\"api\":{},\"dashboard\":{},\"noop\":{}},\"middlewares\":{\"dashboard_redirect\":{\"redirectRegex\":{\"regex\":\"^(http:\\\\/\\\\/(\\\\[[\\\\w:.]+\\\\]|[\\\\w\\\\._-]+)(:\\\\d+)?)\\\\/$\",\"replacement\":\"${1}/dashboard/\",\"permanent\":true}},\"dashboard_stripprefix\":{\"stripPrefix\":{\"prefixes\":[\"/dashboard/\",\"/dashboard\"]}}},\"serversTransports\":{\"default\":{\"maxIdleConnsPerHost\":200}}},\"tcp\":{},\"udp\":{},\"tls\":{}}" providerName=internal
time="2023-07-17T03:51:15Z" level=debug msg="Provider connection established with docker 23.0.5 (API 1.42)" providerName=docker
time="2023-07-17T03:51:15Z" level=debug msg="Configuration received: {\"http\":{\"routers\":{\"app-case-gateway\":{\"service\":\"app-case-gateway\",\"rule\":\"Host(`app-case-gateway`)\"},\"traefik-traefik\":{\"service\":\"traefik-traefik\",\"rule\":\"Host(`traefik-traefik`)\"},\"whoami\":{\"middlewares\":[\"apiKey\"],\"service\":\"whoami-traefik\",\"rule\":\"Host(`whoami.docker.localhost`) || Path(`/whoami`) || HeadersRegexp(`X-Forwarded-For`, `.+`)\"},\"wsrs-v3\":{\"service\":\"wsrs-v3-traefik\",\"rule\":\"Host(`wsrs-v3.docker.localhost`)\"}},\"services\":{\"app-case-gateway\":{\"loadBalancer\":{\"servers\":[{\"url\":\"http://172.22.0.2:8000\"}],\"passHostHeader\":true}},\"traefik-traefik\":{\"loadBalancer\":{\"servers\":[{\"url\":\"http://172.21.0.4:80\"}],\"passHostHeader\":true}},\"whoami-traefik\":{\"loadBalancer\":{\"servers\":[{\"url\":\"http://172.21.0.2:80\"}],\"passHostHeader\":true}},\"wsrs-v3-traefik\":{\"loadBalancer\":{\"servers\":[{\"url\":\"http://172.21.0.3:9000\"}],\"passHostHeader\":true}}},\"middlewares\":{\"apiKey\":{\"plugin\":{\"traefik-api-key-middleware\":{\"authenticationHeader\":\"true\",\"authenticationheaderName\":\"X-API-KEY\",\"bearerHeader\":\"true\",\"bearerHeaderName\":\"Authorization\",\"keys\":\"b8e471ed-9f78-4b0e-9f0d-ba3c9339f3b6,ff08048b-ebf9-4dca-b3bd-2935738dd108\",\"removeHeadersOnSuccess\":\"true\"}}}}},\"tcp\":{},\"udp\":{}}" providerName=docker
time="2023-07-17T03:51:15Z" level=debug msg="No default certificate, fallback to the internal generated certificate" tlsStoreName=default
time="2023-07-17T03:51:15Z" level=debug msg="Added outgoing tracing middleware api@internal" middlewareType=TracingForwarder entryPointName=traefik routerName=api@internal middlewareName=tracing
time="2023-07-17T03:51:15Z" level=debug msg="Added outgoing tracing middleware dashboard@internal" middlewareName=tracing middlewareType=TracingForwarder entryPointName=traefik routerName=dashboard@internal
time="2023-07-17T03:51:15Z" level=debug msg="Creating middleware" middlewareType=StripPrefix entryPointName=traefik routerName=dashboard@internal middlewareName=dashboard_stripprefix@internal
time="2023-07-17T03:51:15Z" level=debug msg="Adding tracing to middleware" routerName=dashboard@internal middlewareName=dashboard_stripprefix@internal entryPointName=traefik
time="2023-07-17T03:51:15Z" level=debug msg="Creating middleware" middlewareType=RedirectRegex entryPointName=traefik routerName=dashboard@internal middlewareName=dashboard_redirect@internal
time="2023-07-17T03:51:15Z" level=debug msg="Setting up redirection from ^(http:\\/\\/(\\[[\\w:.]+\\]|[\\w\\._-]+)(:\\d+)?)\\/$ to ${1}/dashboard/" middlewareType=RedirectRegex entryPointName=traefik routerName=dashboard@internal middlewareName=dashboard_redirect@internal
time="2023-07-17T03:51:15Z" level=debug msg="Adding tracing to middleware" middlewareName=dashboard_redirect@internal entryPointName=traefik routerName=dashboard@internal
time="2023-07-17T03:51:15Z" level=debug msg="Creating middleware" middlewareType=Recovery entryPointName=traefik middlewareName=traefik-internal-recovery
time="2023-07-17T03:51:15Z" level=debug msg="Creating middleware" middlewareName=tracing entryPointName=http middlewareType=TracingEntryPoint
time="2023-07-17T03:51:15Z" level=debug msg="Creating middleware" middlewareName=tracing middlewareType=TracingEntryPoint entryPointName=traefik
time="2023-07-17T03:51:15Z" level=debug msg="Creating middleware" entryPointName=http middlewareName=tracing middlewareType=TracingEntryPoint
time="2023-07-17T03:51:15Z" level=debug msg="Creating middleware" middlewareName=tracing middlewareType=TracingEntryPoint entryPointName=traefik
time="2023-07-17T03:51:15Z" level=debug msg="No entryPoint defined for this router, using the default one(s) instead: [http]" routerName=app-case-gateway
time="2023-07-17T03:51:15Z" level=debug msg="No entryPoint defined for this router, using the default one(s) instead: [http]" routerName=traefik-traefik
time="2023-07-17T03:51:15Z" level=debug msg="No entryPoint defined for this router, using the default one(s) instead: [http]" routerName=whoami
time="2023-07-17T03:51:15Z" level=debug msg="No entryPoint defined for this router, using the default one(s) instead: [http]" routerName=wsrs-v3
time="2023-07-17T03:51:15Z" level=debug msg="No default certificate, fallback to the internal generated certificate" tlsStoreName=default
time="2023-07-17T03:51:15Z" level=debug msg="Added outgoing tracing middleware api@internal" middlewareType=TracingForwarder entryPointName=traefik routerName=api@internal middlewareName=tracing
time="2023-07-17T03:51:15Z" level=debug msg="Added outgoing tracing middleware dashboard@internal" middlewareName=tracing middlewareType=TracingForwarder entryPointName=traefik routerName=dashboard@internal
time="2023-07-17T03:51:15Z" level=debug msg="Creating middleware" middlewareName=dashboard_stripprefix@internal entryPointName=traefik routerName=dashboard@internal middlewareType=StripPrefix
time="2023-07-17T03:51:15Z" level=debug msg="Adding tracing to middleware" routerName=dashboard@internal middlewareName=dashboard_stripprefix@internal entryPointName=traefik
time="2023-07-17T03:51:15Z" level=debug msg="Creating middleware" middlewareType=RedirectRegex middlewareName=dashboard_redirect@internal entryPointName=traefik routerName=dashboard@internal
time="2023-07-17T03:51:15Z" level=debug msg="Setting up redirection from ^(http:\\/\\/(\\[[\\w:.]+\\]|[\\w\\._-]+)(:\\d+)?)\\/$ to ${1}/dashboard/" middlewareName=dashboard_redirect@internal entryPointName=traefik routerName=dashboard@internal middlewareType=RedirectRegex
time="2023-07-17T03:51:15Z" level=debug msg="Adding tracing to middleware" middlewareName=dashboard_redirect@internal routerName=dashboard@internal entryPointName=traefik
time="2023-07-17T03:51:15Z" level=debug msg="Creating middleware" middlewareName=traefik-internal-recovery entryPointName=traefik middlewareType=Recovery
time="2023-07-17T03:51:15Z" level=debug msg="Creating middleware" serviceName=app-case-gateway routerName=app-case-gateway@docker middlewareName=pipelining middlewareType=Pipelining entryPointName=http
time="2023-07-17T03:51:15Z" level=debug msg="Creating load-balancer" routerName=app-case-gateway@docker entryPointName=http serviceName=app-case-gateway
time="2023-07-17T03:51:15Z" level=debug msg="Creating server 0 http://172.22.0.2:8000" routerName=app-case-gateway@docker entryPointName=http serviceName=app-case-gateway serverName=0
time="2023-07-17T03:51:15Z" level=debug msg="child http://172.22.0.2:8000 now UP"
time="2023-07-17T03:51:15Z" level=debug msg="Propagating new UP status"
time="2023-07-17T03:51:15Z" level=debug msg="Added outgoing tracing middleware app-case-gateway" routerName=app-case-gateway@docker middlewareName=tracing middlewareType=TracingForwarder entryPointName=http
time="2023-07-17T03:51:15Z" level=debug msg="Creating middleware" entryPointName=http routerName=traefik-traefik@docker serviceName=traefik-traefik middlewareName=pipelining middlewareType=Pipelining
time="2023-07-17T03:51:15Z" level=debug msg="Creating load-balancer" entryPointName=http routerName=traefik-traefik@docker serviceName=traefik-traefik
time="2023-07-17T03:51:15Z" level=debug msg="Creating server 0 http://172.21.0.4:80" serviceName=traefik-traefik serverName=0 entryPointName=http routerName=traefik-traefik@docker
time="2023-07-17T03:51:15Z" level=debug msg="child http://172.21.0.4:80 now UP"
time="2023-07-17T03:51:15Z" level=debug msg="Propagating new UP status"
time="2023-07-17T03:51:15Z" level=debug msg="Added outgoing tracing middleware traefik-traefik" routerName=traefik-traefik@docker middlewareName=tracing middlewareType=TracingForwarder entryPointName=http
time="2023-07-17T03:51:15Z" level=debug msg="Creating middleware" middlewareName=pipelining entryPointName=http routerName=whoami@docker serviceName=whoami-traefik middlewareType=Pipelining
time="2023-07-17T03:51:15Z" level=debug msg="Creating load-balancer" entryPointName=http routerName=whoami@docker serviceName=whoami-traefik
time="2023-07-17T03:51:15Z" level=debug msg="Creating server 0 http://172.21.0.2:80" entryPointName=http routerName=whoami@docker serviceName=whoami-traefik serverName=0
time="2023-07-17T03:51:15Z" level=debug msg="child http://172.21.0.2:80 now UP"
time="2023-07-17T03:51:15Z" level=debug msg="Propagating new UP status"
time="2023-07-17T03:51:15Z" level=debug msg="Added outgoing tracing middleware whoami-traefik" middlewareName=tracing middlewareType=TracingForwarder entryPointName=http routerName=whoami@docker
time="2023-07-17T03:51:15Z" level=debug msg="Creating plugin: apiKey@docker instance: {AuthenticationHeader:true AuthenticationHeaderName:X-API-KEY BearerHeader:true BearerHeaderName:Authorization Keys:[b8e471ed-9f78-4b0e-9f0d-ba3c9339f3b6 ff08048b-ebf9-4dca-b3bd-2935738dd108] RemoveHeadersOnSuccess:true}, ctx: context.Background.WithValue(type log.contextKey, val <not Stringer>).WithValue(type provider.contextKey, val docker).WithValue(type log.contextKey, val <not Stringer>).WithValue(type middleware.middlewareStackType, val <not Stringer>)" module=github.com/dtomlinson91/traefik-api-key-middleware plugin=plugin-traefik-api-key-middleware
time="2023-07-17T03:51:15Z" level=debug msg="Creating middleware" entryPointName=http middlewareName=pipelining middlewareType=Pipelining routerName=wsrs-v3@docker serviceName=wsrs-v3-traefik
time="2023-07-17T03:51:15Z" level=debug msg="Creating load-balancer" routerName=wsrs-v3@docker serviceName=wsrs-v3-traefik entryPointName=http
time="2023-07-17T03:51:15Z" level=debug msg="Creating server 0 http://172.21.0.3:9000" entryPointName=http routerName=wsrs-v3@docker serviceName=wsrs-v3-traefik serverName=0
time="2023-07-17T03:51:15Z" level=debug msg="child http://172.21.0.3:9000 now UP"
time="2023-07-17T03:51:15Z" level=debug msg="Propagating new UP status"
time="2023-07-17T03:51:15Z" level=debug msg="Added outgoing tracing middleware wsrs-v3-traefik" entryPointName=http routerName=wsrs-v3@docker middlewareName=tracing middlewareType=TracingForwarder
time="2023-07-17T03:51:15Z" level=debug msg="Creating middleware" entryPointName=http middlewareName=traefik-internal-recovery middlewareType=Recovery
time="2023-07-17T03:51:15Z" level=debug msg="Creating middleware" entryPointName=http middlewareName=tracing middlewareType=TracingEntryPoint
time="2023-07-17T03:51:15Z" level=debug msg="Creating middleware" entryPointName=traefik middlewareName=tracing middlewareType=TracingEntryPoint
time="2023-07-17T03:51:15Z" level=debug msg="Creating middleware" middlewareName=tracing middlewareType=TracingEntryPoint entryPointName=http
time="2023-07-17T03:51:15Z" level=debug msg="Creating middleware" entryPointName=traefik middlewareName=tracing middlewareType=TracingEntryPoint
time="2023-07-17T03:51:44Z" level=debug msg="Provider event received {Status:die ID:dd75f21e55a0c4476f11095eab99acb8b6856467a37ccb3c99bd08116e0ef8f5 From:parinyacoj/case-gateway:1.0.1 Type:container Action:die Actor:{ID:dd75f21e55a0c4476f11095eab99acb8b6856467a37ccb3c99bd08116e0ef8f5 Attributes:map[com.docker.compose.config-hash:a7b518c4fab16ce60ecc7324c71e039a69866b5f84fd89bde20167c2337f7f8a com.docker.compose.container-number:1 com.docker.compose.depends_on: com.docker.compose.image:sha256:8d2579de0f870e6091601c865895af8fe6f1f8332db77d1814277e459f416ead com.docker.compose.oneoff:False com.docker.compose.project:case-gateway com.docker.compose.project.config_files:D:\\workspace\\coj_gateway\\case-gateway\\docker-compose.yml com.docker.compose.project.working_dir:D:\\workspace\\coj_gateway\\case-gateway com.docker.compose.replace:79f04f4a24115ae16026e23ca37b52cefa1f4b6e152719184beab0c0bb3c4b92 com.docker.compose.service:app com.docker.compose.version:2.17.3 desktop.docker.io/binds/0/Source:D:\\workspace\\coj_gateway\\case-gateway desktop.docker.io/binds/0/SourceKind:hostFile desktop.docker.io/binds/0/Target:/app exitCode:2 image:parinyacoj/case-gateway:1.0.1 name:case-gateway-app-1]} Scope:local Time:1689565904 TimeNano:1689565904438101985}" providerName=docker
time="2023-07-17T03:51:44Z" level=debug msg="Configuration received: {\"http\":{\"routers\":{\"traefik-traefik\":{\"service\":\"traefik-traefik\",\"rule\":\"Host(`traefik-traefik`)\"},\"whoami\":{\"middlewares\":[\"apiKey\"],\"service\":\"whoami-traefik\",\"rule\":\"Host(`whoami.docker.localhost`) || Path(`/whoami`) || HeadersRegexp(`X-Forwarded-For`, `.+`)\"},\"wsrs-v3\":{\"service\":\"wsrs-v3-traefik\",\"rule\":\"Host(`wsrs-v3.docker.localhost`)\"}},\"services\":{\"traefik-traefik\":{\"loadBalancer\":{\"servers\":[{\"url\":\"http://172.21.0.4:80\"}],\"passHostHeader\":true}},\"whoami-traefik\":{\"loadBalancer\":{\"servers\":[{\"url\":\"http://172.21.0.2:80\"}],\"passHostHeader\":true}},\"wsrs-v3-traefik\":{\"loadBalancer\":{\"servers\":[{\"url\":\"http://172.21.0.3:9000\"}],\"passHostHeader\":true}}},\"middlewares\":{\"apiKey\":{\"plugin\":{\"traefik-api-key-middleware\":{\"authenticationHeader\":\"true\",\"authenticationheaderName\":\"X-API-KEY\",\"bearerHeader\":\"true\",\"bearerHeaderName\":\"Authorization\",\"keys\":\"b8e471ed-9f78-4b0e-9f0d-ba3c9339f3b6,ff08048b-ebf9-4dca-b3bd-2935738dd108\",\"removeHeadersOnSuccess\":\"true\"}}}}},\"tcp\":{},\"udp\":{}}" providerName=docker
time="2023-07-17T03:51:44Z" level=debug msg="No entryPoint defined for this router, using the default one(s) instead: [http]" routerName=traefik-traefik
time="2023-07-17T03:51:44Z" level=debug msg="No entryPoint defined for this router, using the default one(s) instead: [http]" routerName=whoami
time="2023-07-17T03:51:44Z" level=debug msg="No entryPoint defined for this router, using the default one(s) instead: [http]" routerName=wsrs-v3
time="2023-07-17T03:51:44Z" level=debug msg="No default certificate, fallback to the internal generated certificate" tlsStoreName=default
time="2023-07-17T03:51:44Z" level=debug msg="Added outgoing tracing middleware dashboard@internal" entryPointName=traefik routerName=dashboard@internal middlewareName=tracing middlewareType=TracingForwarder
time="2023-07-17T03:51:44Z" level=debug msg="Creating middleware" entryPointName=traefik routerName=dashboard@internal middlewareName=dashboard_stripprefix@internal middlewareType=StripPrefix
time="2023-07-17T03:51:44Z" level=debug msg="Adding tracing to middleware" entryPointName=traefik routerName=dashboard@internal middlewareName=dashboard_stripprefix@internal
time="2023-07-17T03:51:44Z" level=debug msg="Creating middleware" routerName=dashboard@internal middlewareName=dashboard_redirect@internal middlewareType=RedirectRegex entryPointName=traefik
time="2023-07-17T03:51:44Z" level=debug msg="Setting up redirection from ^(http:\\/\\/(\\[[\\w:.]+\\]|[\\w\\._-]+)(:\\d+)?)\\/$ to ${1}/dashboard/" routerName=dashboard@internal middlewareName=dashboard_redirect@internal middlewareType=RedirectRegex entryPointName=traefik
time="2023-07-17T03:51:44Z" level=debug msg="Adding tracing to middleware" middlewareName=dashboard_redirect@internal entryPointName=traefik routerName=dashboard@internal
time="2023-07-17T03:51:44Z" level=debug msg="Added outgoing tracing middleware api@internal" routerName=api@internal middlewareName=tracing middlewareType=TracingForwarder entryPointName=traefik
time="2023-07-17T03:51:44Z" level=debug msg="Creating middleware" entryPointName=traefik middlewareName=traefik-internal-recovery middlewareType=Recovery
time="2023-07-17T03:51:44Z" level=debug msg="Creating middleware" middlewareType=Pipelining entryPointName=http routerName=traefik-traefik@docker serviceName=traefik-traefik middlewareName=pipelining
time="2023-07-17T03:51:44Z" level=debug msg="Creating load-balancer" serviceName=traefik-traefik entryPointName=http routerName=traefik-traefik@docker
time="2023-07-17T03:51:44Z" level=debug msg="Creating server 0 http://172.21.0.4:80" routerName=traefik-traefik@docker serviceName=traefik-traefik serverName=0 entryPointName=http
time="2023-07-17T03:51:44Z" level=debug msg="child http://172.21.0.4:80 now UP"
time="2023-07-17T03:51:44Z" level=debug msg="Propagating new UP status"
time="2023-07-17T03:51:44Z" level=debug msg="Added outgoing tracing middleware traefik-traefik" middlewareType=TracingForwarder entryPointName=http routerName=traefik-traefik@docker middlewareName=tracing
time="2023-07-17T03:51:44Z" level=debug msg="Creating middleware" middlewareType=Pipelining middlewareName=pipelining routerName=whoami@docker entryPointName=http serviceName=whoami-traefik
time="2023-07-17T03:51:44Z" level=debug msg="Creating load-balancer" routerName=whoami@docker entryPointName=http serviceName=whoami-traefik
time="2023-07-17T03:51:44Z" level=debug msg="Creating server 0 http://172.21.0.2:80" routerName=whoami@docker entryPointName=http serviceName=whoami-traefik serverName=0
time="2023-07-17T03:51:44Z" level=debug msg="child http://172.21.0.2:80 now UP"
time="2023-07-17T03:51:44Z" level=debug msg="Propagating new UP status"
time="2023-07-17T03:51:44Z" level=debug msg="Added outgoing tracing middleware whoami-traefik" entryPointName=http routerName=whoami@docker middlewareName=tracing middlewareType=TracingForwarder
time="2023-07-17T03:51:44Z" level=debug msg="Creating plugin: apiKey@docker instance: {AuthenticationHeader:true AuthenticationHeaderName:X-API-KEY BearerHeader:true BearerHeaderName:Authorization Keys:[b8e471ed-9f78-4b0e-9f0d-ba3c9339f3b6 ff08048b-ebf9-4dca-b3bd-2935738dd108] RemoveHeadersOnSuccess:true}, ctx: context.Background.WithValue(type log.contextKey, val <not Stringer>).WithValue(type provider.contextKey, val docker).WithValue(type log.contextKey, val <not Stringer>).WithValue(type middleware.middlewareStackType, val <not Stringer>)" plugin=plugin-traefik-api-key-middleware module=github.com/dtomlinson91/traefik-api-key-middleware
time="2023-07-17T03:51:44Z" level=debug msg="Creating middleware" entryPointName=http serviceName=wsrs-v3-traefik middlewareType=Pipelining middlewareName=pipelining routerName=wsrs-v3@docker
time="2023-07-17T03:51:44Z" level=debug msg="Creating load-balancer" routerName=wsrs-v3@docker entryPointName=http serviceName=wsrs-v3-traefik
time="2023-07-17T03:51:44Z" level=debug msg="Creating server 0 http://172.21.0.3:9000" routerName=wsrs-v3@docker entryPointName=http serviceName=wsrs-v3-traefik serverName=0
time="2023-07-17T03:51:44Z" level=debug msg="child http://172.21.0.3:9000 now UP"
time="2023-07-17T03:51:44Z" level=debug msg="Propagating new UP status"
time="2023-07-17T03:51:44Z" level=debug msg="Added outgoing tracing middleware wsrs-v3-traefik" middlewareType=TracingForwarder entryPointName=http routerName=wsrs-v3@docker middlewareName=tracing
time="2023-07-17T03:51:44Z" level=debug msg="Creating middleware" middlewareName=traefik-internal-recovery middlewareType=Recovery entryPointName=http
time="2023-07-17T03:51:44Z" level=debug msg="Creating middleware" middlewareName=tracing entryPointName=http middlewareType=TracingEntryPoint
time="2023-07-17T03:51:44Z" level=debug msg="Creating middleware" middlewareName=tracing middlewareType=TracingEntryPoint entryPointName=traefik
time="2023-07-17T03:51:44Z" level=debug msg="Creating middleware" entryPointName=http middlewareName=tracing middlewareType=TracingEntryPoint
time="2023-07-17T03:51:44Z" level=debug msg="Creating middleware" middlewareType=TracingEntryPoint entryPointName=traefik middlewareName=tracing
time="2023-07-17T04:03:08Z" level=debug msg="Provider event received {Status:start ID:a41529db5747dda00e594ce0d3a086d835a27e9086463f46ef2620d6b52249dd From:parinyacoj/case-gateway:1.0.2 Type:container Action:start Actor:{ID:a41529db5747dda00e594ce0d3a086d835a27e9086463f46ef2620d6b52249dd Attributes:map[com.docker.compose.config-hash:fac91201aa464dcc51f1b3356ce2581b8da5986fdda804a7e7cc31d4f05c1ea5 com.docker.compose.container-number:1 com.docker.compose.depends_on: com.docker.compose.image:sha256:28d984e344843f63a0b2b1b84a6272c2bfc1a7eeffc0926895cd2deff3400dbd com.docker.compose.oneoff:False com.docker.compose.project:case-gateway com.docker.compose.project.config_files:D:\\workspace\\coj_gateway\\case-gateway\\docker-compose.yml com.docker.compose.project.working_dir:D:\\workspace\\coj_gateway\\case-gateway com.docker.compose.replace:dd75f21e55a0c4476f11095eab99acb8b6856467a37ccb3c99bd08116e0ef8f5 com.docker.compose.service:app com.docker.compose.version:2.17.3 desktop.docker.io/binds/0/Source:D:\\workspace\\coj_gateway\\case-gateway desktop.docker.io/binds/0/SourceKind:hostFile desktop.docker.io/binds/0/Target:/app image:parinyacoj/case-gateway:1.0.2 name:case-gateway-app-1]} Scope:local Time:1689566588 TimeNano:1689566588718819757}" providerName=docker
time="2023-07-17T04:03:08Z" level=debug msg="Configuration received: {\"http\":{\"routers\":{\"app-case-gateway\":{\"service\":\"app-case-gateway\",\"rule\":\"Host(`app-case-gateway`)\"},\"traefik-traefik\":{\"service\":\"traefik-traefik\",\"rule\":\"Host(`traefik-traefik`)\"},\"whoami\":{\"middlewares\":[\"apiKey\"],\"service\":\"whoami-traefik\",\"rule\":\"Host(`whoami.docker.localhost`) || Path(`/whoami`) || HeadersRegexp(`X-Forwarded-For`, `.+`)\"},\"wsrs-v3\":{\"service\":\"wsrs-v3-traefik\",\"rule\":\"Host(`wsrs-v3.docker.localhost`)\"}},\"services\":{\"app-case-gateway\":{\"loadBalancer\":{\"servers\":[{\"url\":\"http://172.22.0.2:8000\"}],\"passHostHeader\":true}},\"traefik-traefik\":{\"loadBalancer\":{\"servers\":[{\"url\":\"http://172.21.0.4:80\"}],\"passHostHeader\":true}},\"whoami-traefik\":{\"loadBalancer\":{\"servers\":[{\"url\":\"http://172.21.0.2:80\"}],\"passHostHeader\":true}},\"wsrs-v3-traefik\":{\"loadBalancer\":{\"servers\":[{\"url\":\"http://172.21.0.3:9000\"}],\"passHostHeader\":true}}},\"middlewares\":{\"apiKey\":{\"plugin\":{\"traefik-api-key-middleware\":{\"authenticationHeader\":\"true\",\"authenticationheaderName\":\"X-API-KEY\",\"bearerHeader\":\"true\",\"bearerHeaderName\":\"Authorization\",\"keys\":\"b8e471ed-9f78-4b0e-9f0d-ba3c9339f3b6,ff08048b-ebf9-4dca-b3bd-2935738dd108\",\"removeHeadersOnSuccess\":\"true\"}}}}},\"tcp\":{},\"udp\":{}}" providerName=docker
time="2023-07-17T04:03:08Z" level=debug msg="No entryPoint defined for this router, using the default one(s) instead: [http]" routerName=wsrs-v3
time="2023-07-17T04:03:08Z" level=debug msg="No entryPoint defined for this router, using the default one(s) instead: [http]" routerName=app-case-gateway
time="2023-07-17T04:03:08Z" level=debug msg="No entryPoint defined for this router, using the default one(s) instead: [http]" routerName=traefik-traefik
time="2023-07-17T04:03:08Z" level=debug msg="No entryPoint defined for this router, using the default one(s) instead: [http]" routerName=whoami
time="2023-07-17T04:03:08Z" level=debug msg="No default certificate, fallback to the internal generated certificate" tlsStoreName=default
time="2023-07-17T04:03:08Z" level=debug msg="Creating middleware" middlewareType=Pipelining routerName=wsrs-v3@docker serviceName=wsrs-v3-traefik entryPointName=http middlewareName=pipelining
time="2023-07-17T04:03:08Z" level=debug msg="Creating load-balancer" entryPointName=http routerName=wsrs-v3@docker serviceName=wsrs-v3-traefik
time="2023-07-17T04:03:08Z" level=debug msg="Creating server 0 http://172.21.0.3:9000" serviceName=wsrs-v3-traefik serverName=0 entryPointName=http routerName=wsrs-v3@docker
time="2023-07-17T04:03:08Z" level=debug msg="child http://172.21.0.3:9000 now UP"
time="2023-07-17T04:03:08Z" level=debug msg="Propagating new UP status"
time="2023-07-17T04:03:08Z" level=debug msg="Added outgoing tracing middleware wsrs-v3-traefik" middlewareType=TracingForwarder entryPointName=http routerName=wsrs-v3@docker middlewareName=tracing
time="2023-07-17T04:03:08Z" level=debug msg="Creating middleware" middlewareName=pipelining middlewareType=Pipelining routerName=app-case-gateway@docker serviceName=app-case-gateway entryPointName=http
time="2023-07-17T04:03:08Z" level=debug msg="Creating load-balancer" serviceName=app-case-gateway entryPointName=http routerName=app-case-gateway@docker
time="2023-07-17T04:03:08Z" level=debug msg="Creating server 0 http://172.22.0.2:8000" entryPointName=http routerName=app-case-gateway@docker serviceName=app-case-gateway serverName=0
time="2023-07-17T04:03:08Z" level=debug msg="child http://172.22.0.2:8000 now UP"
time="2023-07-17T04:03:08Z" level=debug msg="Propagating new UP status"
time="2023-07-17T04:03:08Z" level=debug msg="Added outgoing tracing middleware app-case-gateway" middlewareType=TracingForwarder routerName=app-case-gateway@docker entryPointName=http middlewareName=tracing
time="2023-07-17T04:03:08Z" level=debug msg="Creating middleware" serviceName=traefik-traefik middlewareName=pipelining middlewareType=Pipelining entryPointName=http routerName=traefik-traefik@docker
time="2023-07-17T04:03:08Z" level=debug msg="Creating load-balancer" entryPointName=http routerName=traefik-traefik@docker serviceName=traefik-traefik
time="2023-07-17T04:03:08Z" level=debug msg="Creating server 0 http://172.21.0.4:80" serviceName=traefik-traefik entryPointName=http routerName=traefik-traefik@docker serverName=0
time="2023-07-17T04:03:08Z" level=debug msg="child http://172.21.0.4:80 now UP"
time="2023-07-17T04:03:08Z" level=debug msg="Propagating new UP status"
time="2023-07-17T04:03:08Z" level=debug msg="Added outgoing tracing middleware traefik-traefik" entryPointName=http routerName=traefik-traefik@docker middlewareType=TracingForwarder middlewareName=tracing
time="2023-07-17T04:03:08Z" level=debug msg="Creating middleware" entryPointName=http routerName=whoami@docker serviceName=whoami-traefik middlewareName=pipelining middlewareType=Pipelining
time="2023-07-17T04:03:08Z" level=debug msg="Creating load-balancer" serviceName=whoami-traefik entryPointName=http routerName=whoami@docker
time="2023-07-17T04:03:08Z" level=debug msg="Creating server 0 http://172.21.0.2:80" routerName=whoami@docker serviceName=whoami-traefik serverName=0 entryPointName=http
time="2023-07-17T04:03:08Z" level=debug msg="child http://172.21.0.2:80 now UP"
time="2023-07-17T04:03:08Z" level=debug msg="Propagating new UP status"
time="2023-07-17T04:03:08Z" level=debug msg="Added outgoing tracing middleware whoami-traefik" middlewareName=tracing entryPointName=http routerName=whoami@docker middlewareType=TracingForwarder
time="2023-07-17T04:03:08Z" level=debug msg="Creating plugin: apiKey@docker instance: {AuthenticationHeader:true AuthenticationHeaderName:X-API-KEY BearerHeader:true BearerHeaderName:Authorization Keys:[b8e471ed-9f78-4b0e-9f0d-ba3c9339f3b6 ff08048b-ebf9-4dca-b3bd-2935738dd108] RemoveHeadersOnSuccess:true}, ctx: context.Background.WithValue(type log.contextKey, val <not Stringer>).WithValue(type provider.contextKey, val docker).WithValue(type log.contextKey, val <not Stringer>).WithValue(type middleware.middlewareStackType, val <not Stringer>)" module=github.com/dtomlinson91/traefik-api-key-middleware plugin=plugin-traefik-api-key-middleware
time="2023-07-17T04:03:08Z" level=debug msg="Creating middleware" middlewareType=Recovery entryPointName=http middlewareName=traefik-internal-recovery
time="2023-07-17T04:03:08Z" level=debug msg="Added outgoing tracing middleware api@internal" entryPointName=traefik routerName=api@internal middlewareName=tracing middlewareType=TracingForwarder
time="2023-07-17T04:03:08Z" level=debug msg="Added outgoing tracing middleware dashboard@internal" middlewareName=tracing middlewareType=TracingForwarder entryPointName=traefik routerName=dashboard@internal
time="2023-07-17T04:03:08Z" level=debug msg="Creating middleware" entryPointName=traefik routerName=dashboard@internal middlewareName=dashboard_stripprefix@internal middlewareType=StripPrefix
time="2023-07-17T04:03:08Z" level=debug msg="Adding tracing to middleware" routerName=dashboard@internal entryPointName=traefik middlewareName=dashboard_stripprefix@internal
time="2023-07-17T04:03:08Z" level=debug msg="Creating middleware" middlewareName=dashboard_redirect@internal middlewareType=RedirectRegex entryPointName=traefik routerName=dashboard@internal
time="2023-07-17T04:03:08Z" level=debug msg="Setting up redirection from ^(http:\\/\\/(\\[[\\w:.]+\\]|[\\w\\._-]+)(:\\d+)?)\\/$ to ${1}/dashboard/" entryPointName=traefik routerName=dashboard@internal middlewareName=dashboard_redirect@internal middlewareType=RedirectRegex
time="2023-07-17T04:03:08Z" level=debug msg="Adding tracing to middleware" middlewareName=dashboard_redirect@internal entryPointName=traefik routerName=dashboard@internal
time="2023-07-17T04:03:08Z" level=debug msg="Creating middleware" entryPointName=traefik middlewareName=traefik-internal-recovery middlewareType=Recovery
time="2023-07-17T04:03:08Z" level=debug msg="Creating middleware" entryPointName=http middlewareName=tracing middlewareType=TracingEntryPoint
time="2023-07-17T04:03:08Z" level=debug msg="Creating middleware" middlewareName=tracing middlewareType=TracingEntryPoint entryPointName=traefik
time="2023-07-17T04:03:08Z" level=debug msg="Creating middleware" middlewareName=tracing middlewareType=TracingEntryPoint entryPointName=http
time="2023-07-17T04:03:08Z" level=debug msg="Creating middleware" entryPointName=traefik middlewareName=tracing middlewareType=TracingEntryPoint
time="2023-07-17T04:05:11Z" level=debug msg="Provider event received {Status:die ID:a41529db5747dda00e594ce0d3a086d835a27e9086463f46ef2620d6b52249dd From:parinyacoj/case-gateway:1.0.2 Type:container Action:die Actor:{ID:a41529db5747dda00e594ce0d3a086d835a27e9086463f46ef2620d6b52249dd Attributes:map[com.docker.compose.config-hash:fac91201aa464dcc51f1b3356ce2581b8da5986fdda804a7e7cc31d4f05c1ea5 com.docker.compose.container-number:1 com.docker.compose.depends_on: com.docker.compose.image:sha256:28d984e344843f63a0b2b1b84a6272c2bfc1a7eeffc0926895cd2deff3400dbd com.docker.compose.oneoff:False com.docker.compose.project:case-gateway com.docker.compose.project.config_files:D:\\workspace\\coj_gateway\\case-gateway\\docker-compose.yml com.docker.compose.project.working_dir:D:\\workspace\\coj_gateway\\case-gateway com.docker.compose.replace:dd75f21e55a0c4476f11095eab99acb8b6856467a37ccb3c99bd08116e0ef8f5 com.docker.compose.service:app com.docker.compose.version:2.17.3 desktop.docker.io/binds/0/Source:D:\\workspace\\coj_gateway\\case-gateway desktop.docker.io/binds/0/SourceKind:hostFile desktop.docker.io/binds/0/Target:/app exitCode:2 image:parinyacoj/case-gateway:1.0.2 name:case-gateway-app-1]} Scope:local Time:1689566711 TimeNano:1689566711227795697}" providerName=docker
time="2023-07-17T04:05:11Z" level=debug msg="Configuration received: {\"http\":{\"routers\":{\"traefik-traefik\":{\"service\":\"traefik-traefik\",\"rule\":\"Host(`traefik-traefik`)\"},\"whoami\":{\"middlewares\":[\"apiKey\"],\"service\":\"whoami-traefik\",\"rule\":\"Host(`whoami.docker.localhost`) || Path(`/whoami`) || HeadersRegexp(`X-Forwarded-For`, `.+`)\"},\"wsrs-v3\":{\"service\":\"wsrs-v3-traefik\",\"rule\":\"Host(`wsrs-v3.docker.localhost`)\"}},\"services\":{\"traefik-traefik\":{\"loadBalancer\":{\"servers\":[{\"url\":\"http://172.21.0.4:80\"}],\"passHostHeader\":true}},\"whoami-traefik\":{\"loadBalancer\":{\"servers\":[{\"url\":\"http://172.21.0.2:80\"}],\"passHostHeader\":true}},\"wsrs-v3-traefik\":{\"loadBalancer\":{\"servers\":[{\"url\":\"http://172.21.0.3:9000\"}],\"passHostHeader\":true}}},\"middlewares\":{\"apiKey\":{\"plugin\":{\"traefik-api-key-middleware\":{\"authenticationHeader\":\"true\",\"authenticationheaderName\":\"X-API-KEY\",\"bearerHeader\":\"true\",\"bearerHeaderName\":\"Authorization\",\"keys\":\"b8e471ed-9f78-4b0e-9f0d-ba3c9339f3b6,ff08048b-ebf9-4dca-b3bd-2935738dd108\",\"removeHeadersOnSuccess\":\"true\"}}}}},\"tcp\":{},\"udp\":{}}" providerName=docker
time="2023-07-17T04:05:11Z" level=debug msg="No entryPoint defined for this router, using the default one(s) instead: [http]" routerName=traefik-traefik
time="2023-07-17T04:05:11Z" level=debug msg="No entryPoint defined for this router, using the default one(s) instead: [http]" routerName=whoami
time="2023-07-17T04:05:11Z" level=debug msg="No entryPoint defined for this router, using the default one(s) instead: [http]" routerName=wsrs-v3
time="2023-07-17T04:05:11Z" level=debug msg="No default certificate, fallback to the internal generated certificate" tlsStoreName=default
time="2023-07-17T04:05:11Z" level=debug msg="Creating middleware" middlewareType=Pipelining entryPointName=http routerName=traefik-traefik@docker serviceName=traefik-traefik middlewareName=pipelining
time="2023-07-17T04:05:11Z" level=debug msg="Creating load-balancer" entryPointName=http routerName=traefik-traefik@docker serviceName=traefik-traefik
time="2023-07-17T04:05:11Z" level=debug msg="Creating server 0 http://172.21.0.4:80" serverName=0 routerName=traefik-traefik@docker serviceName=traefik-traefik entryPointName=http
time="2023-07-17T04:05:11Z" level=debug msg="child http://172.21.0.4:80 now UP"
time="2023-07-17T04:05:11Z" level=debug msg="Propagating new UP status"
time="2023-07-17T04:05:11Z" level=debug msg="Added outgoing tracing middleware traefik-traefik" entryPointName=http routerName=traefik-traefik@docker middlewareName=tracing middlewareType=TracingForwarder
time="2023-07-17T04:05:11Z" level=debug msg="Creating middleware" entryPointName=http routerName=whoami@docker serviceName=whoami-traefik middlewareType=Pipelining middlewareName=pipelining
time="2023-07-17T04:05:11Z" level=debug msg="Creating load-balancer" entryPointName=http routerName=whoami@docker serviceName=whoami-traefik
time="2023-07-17T04:05:11Z" level=debug msg="Creating server 0 http://172.21.0.2:80" entryPointName=http serverName=0 routerName=whoami@docker serviceName=whoami-traefik
time="2023-07-17T04:05:11Z" level=debug msg="child http://172.21.0.2:80 now UP"
time="2023-07-17T04:05:11Z" level=debug msg="Propagating new UP status"
time="2023-07-17T04:05:11Z" level=debug msg="Added outgoing tracing middleware whoami-traefik" entryPointName=http routerName=whoami@docker middlewareName=tracing middlewareType=TracingForwarder
time="2023-07-17T04:05:11Z" level=debug msg="Creating plugin: apiKey@docker instance: {AuthenticationHeader:true AuthenticationHeaderName:X-API-KEY BearerHeader:true BearerHeaderName:Authorization Keys:[b8e471ed-9f78-4b0e-9f0d-ba3c9339f3b6 ff08048b-ebf9-4dca-b3bd-2935738dd108] RemoveHeadersOnSuccess:true}, ctx: context.Background.WithValue(type log.contextKey, val <not Stringer>).WithValue(type provider.contextKey, val docker).WithValue(type log.contextKey, val <not Stringer>).WithValue(type middleware.middlewareStackType, val <not Stringer>)" module=github.com/dtomlinson91/traefik-api-key-middleware plugin=plugin-traefik-api-key-middleware
time="2023-07-17T04:05:11Z" level=debug msg="Creating middleware" serviceName=wsrs-v3-traefik middlewareName=pipelining middlewareType=Pipelining entryPointName=http routerName=wsrs-v3@docker
time="2023-07-17T04:05:11Z" level=debug msg="Creating load-balancer" serviceName=wsrs-v3-traefik entryPointName=http routerName=wsrs-v3@docker
time="2023-07-17T04:05:11Z" level=debug msg="Creating server 0 http://172.21.0.3:9000" serviceName=wsrs-v3-traefik entryPointName=http routerName=wsrs-v3@docker serverName=0
time="2023-07-17T04:05:11Z" level=debug msg="child http://172.21.0.3:9000 now UP"
time="2023-07-17T04:05:11Z" level=debug msg="Propagating new UP status"
time="2023-07-17T04:05:11Z" level=debug msg="Added outgoing tracing middleware wsrs-v3-traefik" routerName=wsrs-v3@docker middlewareType=TracingForwarder middlewareName=tracing entryPointName=http
time="2023-07-17T04:05:11Z" level=debug msg="Creating middleware" middlewareName=traefik-internal-recovery middlewareType=Recovery entryPointName=http
time="2023-07-17T04:05:11Z" level=debug msg="Added outgoing tracing middleware dashboard@internal" routerName=dashboard@internal middlewareName=tracing middlewareType=TracingForwarder entryPointName=traefik
time="2023-07-17T04:05:11Z" level=debug msg="Creating middleware" middlewareType=StripPrefix entryPointName=traefik routerName=dashboard@internal middlewareName=dashboard_stripprefix@internal
time="2023-07-17T04:05:11Z" level=debug msg="Adding tracing to middleware" entryPointName=traefik routerName=dashboard@internal middlewareName=dashboard_stripprefix@internal
time="2023-07-17T04:05:11Z" level=debug msg="Creating middleware" middlewareName=dashboard_redirect@internal middlewareType=RedirectRegex entryPointName=traefik routerName=dashboard@internal
time="2023-07-17T04:05:11Z" level=debug msg="Setting up redirection from ^(http:\\/\\/(\\[[\\w:.]+\\]|[\\w\\._-]+)(:\\d+)?)\\/$ to ${1}/dashboard/" entryPointName=traefik routerName=dashboard@internal middlewareName=dashboard_redirect@internal middlewareType=RedirectRegex
time="2023-07-17T04:05:11Z" level=debug msg="Adding tracing to middleware" routerName=dashboard@internal middlewareName=dashboard_redirect@internal entryPointName=traefik
time="2023-07-17T04:05:11Z" level=debug msg="Added outgoing tracing middleware api@internal" routerName=api@internal middlewareType=TracingForwarder middlewareName=tracing entryPointName=traefik
time="2023-07-17T04:05:11Z" level=debug msg="Creating middleware" entryPointName=traefik middlewareName=traefik-internal-recovery middlewareType=Recovery
time="2023-07-17T04:05:11Z" level=debug msg="Creating middleware" middlewareType=TracingEntryPoint middlewareName=tracing entryPointName=http
time="2023-07-17T04:05:11Z" level=debug msg="Creating middleware" entryPointName=traefik middlewareType=TracingEntryPoint middlewareName=tracing
time="2023-07-17T04:05:11Z" level=debug msg="Creating middleware" entryPointName=http middlewareName=tracing middlewareType=TracingEntryPoint
time="2023-07-17T04:05:11Z" level=debug msg="Creating middleware" middlewareName=tracing middlewareType=TracingEntryPoint entryPointName=traefik
time="2023-07-17T04:06:46Z" level=debug msg="Provider event received {Status:start ID:5f5c7bf00b75811f096778585dcd4efe014aaf3392e03a35fe1b3508131d1836 From:parinyacoj/case-gateway:1.0.2 Type:container Action:start Actor:{ID:5f5c7bf00b75811f096778585dcd4efe014aaf3392e03a35fe1b3508131d1836 Attributes:map[com.docker.compose.config-hash:5df6f13cfeca1919ec4d575b78dab72bf284688dabf0c72468af8b019359ed2b com.docker.compose.container-number:1 com.docker.compose.depends_on: com.docker.compose.image:sha256:28d984e344843f63a0b2b1b84a6272c2bfc1a7eeffc0926895cd2deff3400dbd com.docker.compose.oneoff:False com.docker.compose.project:traefik com.docker.compose.project.config_files:D:\\workspace\\microservice-github\\traefik\\docker-compose.yml com.docker.compose.project.working_dir:D:\\workspace\\microservice-github\\traefik com.docker.compose.replace:c68311dead4aefb829323e58c2514cf13dadd5e56253b88aac39368cb903642b com.docker.compose.service:case-gateway com.docker.compose.version:2.17.3 image:parinyacoj/case-gateway:1.0.2 name:traefik-case-gateway-1 traefik.enable:true traefik.http.middlewares.apiKey.plugin.traefik-api-key-middleware.authenticationHeader:true traefik.http.middlewares.apiKey.plugin.traefik-api-key-middleware.authenticationheaderName:X-API-KEY traefik.http.middlewares.apiKey.plugin.traefik-api-key-middleware.bearerHeader:true traefik.http.middlewares.apiKey.plugin.traefik-api-key-middleware.bearerHeaderName:Authorization traefik.http.middlewares.apiKey.plugin.traefik-api-key-middleware.keys:b8e471ed-9f78-4b0e-9f0d-ba3c9339f3b6,ff08048b-ebf9-4dca-b3bd-2935738dd108 traefik.http.middlewares.apiKey.plugin.traefik-api-key-middleware.removeHeadersOnSuccess:true traefik.http.routers.case-gateway.middlewares:apiKey traefik.http.routers.case-gateway.rule:Host(`case-gateway.docker.localhost`)]} Scope:local Time:1689566806 TimeNano:1689566806968501405}" providerName=docker
time="2023-07-17T04:06:46Z" level=debug msg="Configuration received: {\"http\":{\"routers\":{\"case-gateway\":{\"middlewares\":[\"apiKey\"],\"service\":\"case-gateway-traefik\",\"rule\":\"Host(`case-gateway.docker.localhost`)\"},\"traefik-traefik\":{\"service\":\"traefik-traefik\",\"rule\":\"Host(`traefik-traefik`)\"},\"whoami\":{\"middlewares\":[\"apiKey\"],\"service\":\"whoami-traefik\",\"rule\":\"Host(`whoami.docker.localhost`) || Path(`/whoami`) || HeadersRegexp(`X-Forwarded-For`, `.+`)\"},\"wsrs-v3\":{\"service\":\"wsrs-v3-traefik\",\"rule\":\"Host(`wsrs-v3.docker.localhost`)\"}},\"services\":{\"case-gateway-traefik\":{\"loadBalancer\":{\"servers\":[{\"url\":\"http://172.21.0.5:9003\"}],\"passHostHeader\":true}},\"traefik-traefik\":{\"loadBalancer\":{\"servers\":[{\"url\":\"http://172.21.0.4:80\"}],\"passHostHeader\":true}},\"whoami-traefik\":{\"loadBalancer\":{\"servers\":[{\"url\":\"http://172.21.0.2:80\"}],\"passHostHeader\":true}},\"wsrs-v3-traefik\":{\"loadBalancer\":{\"servers\":[{\"url\":\"http://172.21.0.3:9000\"}],\"passHostHeader\":true}}},\"middlewares\":{\"apiKey\":{\"plugin\":{\"traefik-api-key-middleware\":{\"authenticationHeader\":\"true\",\"authenticationheaderName\":\"X-API-KEY\",\"bearerHeader\":\"true\",\"bearerHeaderName\":\"Authorization\",\"keys\":\"b8e471ed-9f78-4b0e-9f0d-ba3c9339f3b6,ff08048b-ebf9-4dca-b3bd-2935738dd108\",\"removeHeadersOnSuccess\":\"true\"}}}}},\"tcp\":{},\"udp\":{}}" providerName=docker
time="2023-07-17T04:06:46Z" level=debug msg="No entryPoint defined for this router, using the default one(s) instead: [http]" routerName=wsrs-v3
time="2023-07-17T04:06:46Z" level=debug msg="No entryPoint defined for this router, using the default one(s) instead: [http]" routerName=case-gateway
time="2023-07-17T04:06:47Z" level=debug msg="No entryPoint defined for this router, using the default one(s) instead: [http]" routerName=traefik-traefik
time="2023-07-17T04:06:47Z" level=debug msg="No entryPoint defined for this router, using the default one(s) instead: [http]" routerName=whoami
time="2023-07-17T04:06:47Z" level=debug msg="No default certificate, fallback to the internal generated certificate" tlsStoreName=default
time="2023-07-17T04:06:47Z" level=debug msg="Creating middleware" routerName=whoami@docker serviceName=whoami-traefik middlewareName=pipelining middlewareType=Pipelining entryPointName=http
time="2023-07-17T04:06:47Z" level=debug msg="Creating load-balancer" serviceName=whoami-traefik entryPointName=http routerName=whoami@docker
time="2023-07-17T04:06:47Z" level=debug msg="Creating server 0 http://172.21.0.2:80" entryPointName=http routerName=whoami@docker serviceName=whoami-traefik serverName=0
time="2023-07-17T04:06:47Z" level=debug msg="child http://172.21.0.2:80 now UP"
time="2023-07-17T04:06:47Z" level=debug msg="Propagating new UP status"
time="2023-07-17T04:06:47Z" level=debug msg="Added outgoing tracing middleware whoami-traefik" entryPointName=http routerName=whoami@docker middlewareName=tracing middlewareType=TracingForwarder
time="2023-07-17T04:06:47Z" level=debug msg="Creating plugin: apiKey@docker instance: {AuthenticationHeader:true AuthenticationHeaderName:X-API-KEY BearerHeader:true BearerHeaderName:Authorization Keys:[b8e471ed-9f78-4b0e-9f0d-ba3c9339f3b6 ff08048b-ebf9-4dca-b3bd-2935738dd108] RemoveHeadersOnSuccess:true}, ctx: context.Background.WithValue(type log.contextKey, val <not Stringer>).WithValue(type provider.contextKey, val docker).WithValue(type log.contextKey, val <not Stringer>).WithValue(type middleware.middlewareStackType, val <not Stringer>)" plugin=plugin-traefik-api-key-middleware module=github.com/dtomlinson91/traefik-api-key-middleware
time="2023-07-17T04:06:47Z" level=debug msg="Creating middleware" routerName=wsrs-v3@docker serviceName=wsrs-v3-traefik middlewareType=Pipelining middlewareName=pipelining entryPointName=http
time="2023-07-17T04:06:47Z" level=debug msg="Creating load-balancer" serviceName=wsrs-v3-traefik entryPointName=http routerName=wsrs-v3@docker
time="2023-07-17T04:06:47Z" level=debug msg="Creating server 0 http://172.21.0.3:9000" serverName=0 serviceName=wsrs-v3-traefik entryPointName=http routerName=wsrs-v3@docker
time="2023-07-17T04:06:47Z" level=debug msg="child http://172.21.0.3:9000 now UP"
time="2023-07-17T04:06:47Z" level=debug msg="Propagating new UP status"
time="2023-07-17T04:06:47Z" level=debug msg="Added outgoing tracing middleware wsrs-v3-traefik" middlewareType=TracingForwarder entryPointName=http routerName=wsrs-v3@docker middlewareName=tracing
time="2023-07-17T04:06:47Z" level=debug msg="Creating middleware" serviceName=case-gateway-traefik middlewareType=Pipelining middlewareName=pipelining entryPointName=http routerName=case-gateway@docker
time="2023-07-17T04:06:47Z" level=debug msg="Creating load-balancer" entryPointName=http routerName=case-gateway@docker serviceName=case-gateway-traefik
time="2023-07-17T04:06:47Z" level=debug msg="Creating server 0 http://172.21.0.5:9003" entryPointName=http routerName=case-gateway@docker serviceName=case-gateway-traefik serverName=0
time="2023-07-17T04:06:47Z" level=debug msg="child http://172.21.0.5:9003 now UP"
time="2023-07-17T04:06:47Z" level=debug msg="Propagating new UP status"
time="2023-07-17T04:06:47Z" level=debug msg="Added outgoing tracing middleware case-gateway-traefik" middlewareName=tracing middlewareType=TracingForwarder entryPointName=http routerName=case-gateway@docker
time="2023-07-17T04:06:47Z" level=debug msg="Creating plugin: apiKey@docker instance: {AuthenticationHeader:true AuthenticationHeaderName:X-API-KEY BearerHeader:true BearerHeaderName:Authorization Keys:[b8e471ed-9f78-4b0e-9f0d-ba3c9339f3b6 ff08048b-ebf9-4dca-b3bd-2935738dd108] RemoveHeadersOnSuccess:true}, ctx: context.Background.WithValue(type log.contextKey, val <not Stringer>).WithValue(type provider.contextKey, val docker).WithValue(type log.contextKey, val <not Stringer>).WithValue(type middleware.middlewareStackType, val <not Stringer>)" plugin=plugin-traefik-api-key-middleware module=github.com/dtomlinson91/traefik-api-key-middleware
time="2023-07-17T04:06:47Z" level=debug msg="Creating middleware" entryPointName=http routerName=traefik-traefik@docker serviceName=traefik-traefik middlewareName=pipelining middlewareType=Pipelining
time="2023-07-17T04:06:47Z" level=debug msg="Creating load-balancer" serviceName=traefik-traefik entryPointName=http routerName=traefik-traefik@docker
time="2023-07-17T04:06:47Z" level=debug msg="Creating server 0 http://172.21.0.4:80" entryPointName=http routerName=traefik-traefik@docker serviceName=traefik-traefik serverName=0
time="2023-07-17T04:06:47Z" level=debug msg="child http://172.21.0.4:80 now UP"
time="2023-07-17T04:06:47Z" level=debug msg="Propagating new UP status"
time="2023-07-17T04:06:47Z" level=debug msg="Added outgoing tracing middleware traefik-traefik" routerName=traefik-traefik@docker entryPointName=http middlewareName=tracing middlewareType=TracingForwarder
time="2023-07-17T04:06:47Z" level=debug msg="Creating middleware" entryPointName=http middlewareName=traefik-internal-recovery middlewareType=Recovery
time="2023-07-17T04:06:47Z" level=debug msg="Added outgoing tracing middleware dashboard@internal" routerName=dashboard@internal middlewareName=tracing middlewareType=TracingForwarder entryPointName=traefik
time="2023-07-17T04:06:47Z" level=debug msg="Creating middleware" routerName=dashboard@internal middlewareName=dashboard_stripprefix@internal middlewareType=StripPrefix entryPointName=traefik
time="2023-07-17T04:06:47Z" level=debug msg="Adding tracing to middleware" routerName=dashboard@internal middlewareName=dashboard_stripprefix@internal entryPointName=traefik
time="2023-07-17T04:06:47Z" level=debug msg="Creating middleware" entryPointName=traefik routerName=dashboard@internal middlewareName=dashboard_redirect@internal middlewareType=RedirectRegex
time="2023-07-17T04:06:47Z" level=debug msg="Setting up redirection from ^(http:\\/\\/(\\[[\\w:.]+\\]|[\\w\\._-]+)(:\\d+)?)\\/$ to ${1}/dashboard/" entryPointName=traefik routerName=dashboard@internal middlewareName=dashboard_redirect@internal middlewareType=RedirectRegex
time="2023-07-17T04:06:47Z" level=debug msg="Adding tracing to middleware" middlewareName=dashboard_redirect@internal entryPointName=traefik routerName=dashboard@internal
time="2023-07-17T04:06:47Z" level=debug msg="Added outgoing tracing middleware api@internal" middlewareName=tracing middlewareType=TracingForwarder entryPointName=traefik routerName=api@internal
time="2023-07-17T04:06:47Z" level=debug msg="Creating middleware" middlewareType=Recovery entryPointName=traefik middlewareName=traefik-internal-recovery
time="2023-07-17T04:06:47Z" level=debug msg="Creating middleware" middlewareType=TracingEntryPoint entryPointName=http middlewareName=tracing
time="2023-07-17T04:06:47Z" level=debug msg="Creating middleware" entryPointName=traefik middlewareName=tracing middlewareType=TracingEntryPoint
time="2023-07-17T04:06:47Z" level=debug msg="Creating middleware" entryPointName=http middlewareName=tracing middlewareType=TracingEntryPoint
time="2023-07-17T04:06:47Z" level=debug msg="Creating middleware" middlewareName=tracing middlewareType=TracingEntryPoint entryPointName=traefik
time="2023-07-17T04:07:40Z" level=debug msg="Provider event received {Status:die ID:5f5c7bf00b75811f096778585dcd4efe014aaf3392e03a35fe1b3508131d1836 From:parinyacoj/case-gateway:1.0.2 Type:container Action:die Actor:{ID:5f5c7bf00b75811f096778585dcd4efe014aaf3392e03a35fe1b3508131d1836 Attributes:map[com.docker.compose.config-hash:5df6f13cfeca1919ec4d575b78dab72bf284688dabf0c72468af8b019359ed2b com.docker.compose.container-number:1 com.docker.compose.depends_on: com.docker.compose.image:sha256:28d984e344843f63a0b2b1b84a6272c2bfc1a7eeffc0926895cd2deff3400dbd com.docker.compose.oneoff:False com.docker.compose.project:traefik com.docker.compose.project.config_files:D:\\workspace\\microservice-github\\traefik\\docker-compose.yml com.docker.compose.project.working_dir:D:\\workspace\\microservice-github\\traefik com.docker.compose.replace:c68311dead4aefb829323e58c2514cf13dadd5e56253b88aac39368cb903642b com.docker.compose.service:case-gateway com.docker.compose.version:2.17.3 exitCode:2 image:parinyacoj/case-gateway:1.0.2 name:traefik-case-gateway-1 traefik.enable:true traefik.http.middlewares.apiKey.plugin.traefik-api-key-middleware.authenticationHeader:true traefik.http.middlewares.apiKey.plugin.traefik-api-key-middleware.authenticationheaderName:X-API-KEY traefik.http.middlewares.apiKey.plugin.traefik-api-key-middleware.bearerHeader:true traefik.http.middlewares.apiKey.plugin.traefik-api-key-middleware.bearerHeaderName:Authorization traefik.http.middlewares.apiKey.plugin.traefik-api-key-middleware.keys:b8e471ed-9f78-4b0e-9f0d-ba3c9339f3b6,ff08048b-ebf9-4dca-b3bd-2935738dd108 traefik.http.middlewares.apiKey.plugin.traefik-api-key-middleware.removeHeadersOnSuccess:true traefik.http.routers.case-gateway.middlewares:apiKey traefik.http.routers.case-gateway.rule:Host(`case-gateway.docker.localhost`)]} Scope:local Time:1689566860 TimeNano:1689566860474332160}" providerName=docker
time="2023-07-17T04:07:40Z" level=debug msg="Configuration received: {\"http\":{\"routers\":{\"traefik-traefik\":{\"service\":\"traefik-traefik\",\"rule\":\"Host(`traefik-traefik`)\"},\"whoami\":{\"middlewares\":[\"apiKey\"],\"service\":\"whoami-traefik\",\"rule\":\"Host(`whoami.docker.localhost`) || Path(`/whoami`) || HeadersRegexp(`X-Forwarded-For`, `.+`)\"},\"wsrs-v3\":{\"service\":\"wsrs-v3-traefik\",\"rule\":\"Host(`wsrs-v3.docker.localhost`)\"}},\"services\":{\"traefik-traefik\":{\"loadBalancer\":{\"servers\":[{\"url\":\"http://172.21.0.4:80\"}],\"passHostHeader\":true}},\"whoami-traefik\":{\"loadBalancer\":{\"servers\":[{\"url\":\"http://172.21.0.2:80\"}],\"passHostHeader\":true}},\"wsrs-v3-traefik\":{\"loadBalancer\":{\"servers\":[{\"url\":\"http://172.21.0.3:9000\"}],\"passHostHeader\":true}}},\"middlewares\":{\"apiKey\":{\"plugin\":{\"traefik-api-key-middleware\":{\"authenticationHeader\":\"true\",\"authenticationheaderName\":\"X-API-KEY\",\"bearerHeader\":\"true\",\"bearerHeaderName\":\"Authorization\",\"keys\":\"b8e471ed-9f78-4b0e-9f0d-ba3c9339f3b6,ff08048b-ebf9-4dca-b3bd-2935738dd108\",\"removeHeadersOnSuccess\":\"true\"}}}}},\"tcp\":{},\"udp\":{}}" providerName=docker
time="2023-07-17T04:07:40Z" level=debug msg="No entryPoint defined for this router, using the default one(s) instead: [http]" routerName=traefik-traefik
time="2023-07-17T04:07:40Z" level=debug msg="No entryPoint defined for this router, using the default one(s) instead: [http]" routerName=whoami
time="2023-07-17T04:07:40Z" level=debug msg="No entryPoint defined for this router, using the default one(s) instead: [http]" routerName=wsrs-v3
time="2023-07-17T04:07:40Z" level=debug msg="No default certificate, fallback to the internal generated certificate" tlsStoreName=default
time="2023-07-17T04:07:40Z" level=debug msg="Added outgoing tracing middleware dashboard@internal" middlewareType=TracingForwarder entryPointName=traefik routerName=dashboard@internal middlewareName=tracing
time="2023-07-17T04:07:40Z" level=debug msg="Creating middleware" middlewareType=StripPrefix entryPointName=traefik routerName=dashboard@internal middlewareName=dashboard_stripprefix@internal
time="2023-07-17T04:07:40Z" level=debug msg="Adding tracing to middleware" routerName=dashboard@internal middlewareName=dashboard_stripprefix@internal entryPointName=traefik
time="2023-07-17T04:07:40Z" level=debug msg="Creating middleware" routerName=dashboard@internal middlewareName=dashboard_redirect@internal middlewareType=RedirectRegex entryPointName=traefik
time="2023-07-17T04:07:40Z" level=debug msg="Setting up redirection from ^(http:\\/\\/(\\[[\\w:.]+\\]|[\\w\\._-]+)(:\\d+)?)\\/$ to ${1}/dashboard/" middlewareType=RedirectRegex entryPointName=traefik routerName=dashboard@internal middlewareName=dashboard_redirect@internal
time="2023-07-17T04:07:40Z" level=debug msg="Adding tracing to middleware" entryPointName=traefik routerName=dashboard@internal middlewareName=dashboard_redirect@internal
time="2023-07-17T04:07:40Z" level=debug msg="Added outgoing tracing middleware api@internal" entryPointName=traefik routerName=api@internal middlewareType=TracingForwarder middlewareName=tracing
time="2023-07-17T04:07:40Z" level=debug msg="Creating middleware" entryPointName=traefik middlewareName=traefik-internal-recovery middlewareType=Recovery
time="2023-07-17T04:07:40Z" level=debug msg="Creating middleware" middlewareType=Pipelining serviceName=whoami-traefik entryPointName=http routerName=whoami@docker middlewareName=pipelining
time="2023-07-17T04:07:40Z" level=debug msg="Creating load-balancer" serviceName=whoami-traefik entryPointName=http routerName=whoami@docker
time="2023-07-17T04:07:40Z" level=debug msg="Creating server 0 http://172.21.0.2:80" serverName=0 entryPointName=http routerName=whoami@docker serviceName=whoami-traefik
time="2023-07-17T04:07:40Z" level=debug msg="child http://172.21.0.2:80 now UP"
time="2023-07-17T04:07:40Z" level=debug msg="Propagating new UP status"
time="2023-07-17T04:07:40Z" level=debug msg="Added outgoing tracing middleware whoami-traefik" entryPointName=http routerName=whoami@docker middlewareType=TracingForwarder middlewareName=tracing
time="2023-07-17T04:07:40Z" level=debug msg="Creating plugin: apiKey@docker instance: {AuthenticationHeader:true AuthenticationHeaderName:X-API-KEY BearerHeader:true BearerHeaderName:Authorization Keys:[b8e471ed-9f78-4b0e-9f0d-ba3c9339f3b6 ff08048b-ebf9-4dca-b3bd-2935738dd108] RemoveHeadersOnSuccess:true}, ctx: context.Background.WithValue(type log.contextKey, val <not Stringer>).WithValue(type provider.contextKey, val docker).WithValue(type log.contextKey, val <not Stringer>).WithValue(type middleware.middlewareStackType, val <not Stringer>)" plugin=plugin-traefik-api-key-middleware module=github.com/dtomlinson91/traefik-api-key-middleware
time="2023-07-17T04:07:40Z" level=debug msg="Creating middleware" middlewareName=pipelining middlewareType=Pipelining routerName=wsrs-v3@docker serviceName=wsrs-v3-traefik entryPointName=http
time="2023-07-17T04:07:40Z" level=debug msg="Creating load-balancer" entryPointName=http routerName=wsrs-v3@docker serviceName=wsrs-v3-traefik
time="2023-07-17T04:07:40Z" level=debug msg="Creating server 0 http://172.21.0.3:9000" serverName=0 entryPointName=http routerName=wsrs-v3@docker serviceName=wsrs-v3-traefik
time="2023-07-17T04:07:40Z" level=debug msg="child http://172.21.0.3:9000 now UP"
time="2023-07-17T04:07:40Z" level=debug msg="Propagating new UP status"
time="2023-07-17T04:07:40Z" level=debug msg="Added outgoing tracing middleware wsrs-v3-traefik" routerName=wsrs-v3@docker middlewareName=tracing middlewareType=TracingForwarder entryPointName=http
time="2023-07-17T04:07:40Z" level=debug msg="Creating middleware" serviceName=traefik-traefik middlewareType=Pipelining middlewareName=pipelining entryPointName=http routerName=traefik-traefik@docker
time="2023-07-17T04:07:40Z" level=debug msg="Creating load-balancer" routerName=traefik-traefik@docker serviceName=traefik-traefik entryPointName=http
time="2023-07-17T04:07:40Z" level=debug msg="Creating server 0 http://172.21.0.4:80" serviceName=traefik-traefik serverName=0 entryPointName=http routerName=traefik-traefik@docker
time="2023-07-17T04:07:40Z" level=debug msg="child http://172.21.0.4:80 now UP"
time="2023-07-17T04:07:40Z" level=debug msg="Propagating new UP status"
time="2023-07-17T04:07:40Z" level=debug msg="Added outgoing tracing middleware traefik-traefik" entryPointName=http routerName=traefik-traefik@docker middlewareName=tracing middlewareType=TracingForwarder
time="2023-07-17T04:07:40Z" level=debug msg="Creating middleware" entryPointName=http middlewareName=traefik-internal-recovery middlewareType=Recovery
time="2023-07-17T04:07:40Z" level=debug msg="Creating middleware" entryPointName=http middlewareType=TracingEntryPoint middlewareName=tracing
time="2023-07-17T04:07:40Z" level=debug msg="Creating middleware" entryPointName=traefik middlewareName=tracing middlewareType=TracingEntryPoint
time="2023-07-17T04:07:40Z" level=debug msg="Creating middleware" middlewareType=TracingEntryPoint middlewareName=tracing entryPointName=http
time="2023-07-17T04:07:40Z" level=debug msg="Creating middleware" middlewareType=TracingEntryPoint entryPointName=traefik middlewareName=tracing
time="2023-07-17T04:07:40Z" level=debug msg="Provider event received {Status:start ID:ce4c1e7ff872d3fb130491b02ac727acdce945aef34c26ace733cbb8208568cc From:parinyacoj/case-gateway:1.0.2 Type:container Action:start Actor:{ID:ce4c1e7ff872d3fb130491b02ac727acdce945aef34c26ace733cbb8208568cc Attributes:map[com.docker.compose.config-hash:b26d33ca4a35c3081fc8a4ebfb2c3da6dc8b15a6eab6ae282bf2ff0cf145cf76 com.docker.compose.container-number:1 com.docker.compose.depends_on: com.docker.compose.image:sha256:28d984e344843f63a0b2b1b84a6272c2bfc1a7eeffc0926895cd2deff3400dbd com.docker.compose.oneoff:False com.docker.compose.project:traefik com.docker.compose.project.config_files:D:\\workspace\\microservice-github\\traefik\\docker-compose.yml com.docker.compose.project.working_dir:D:\\workspace\\microservice-github\\traefik com.docker.compose.replace:5f5c7bf00b75811f096778585dcd4efe014aaf3392e03a35fe1b3508131d1836 com.docker.compose.service:case-gateway com.docker.compose.version:2.17.3 image:parinyacoj/case-gateway:1.0.2 name:traefik-case-gateway-1 traefik.enable:true traefik.http.middlewares.apiKey.plugin.traefik-api-key-middleware.authenticationHeader:true traefik.http.middlewares.apiKey.plugin.traefik-api-key-middleware.authenticationheaderName:X-API-KEY traefik.http.middlewares.apiKey.plugin.traefik-api-key-middleware.bearerHeader:true traefik.http.middlewares.apiKey.plugin.traefik-api-key-middleware.bearerHeaderName:Authorization traefik.http.middlewares.apiKey.plugin.traefik-api-key-middleware.keys:b8e471ed-9f78-4b0e-9f0d-ba3c9339f3b6,ff08048b-ebf9-4dca-b3bd-2935738dd108 traefik.http.middlewares.apiKey.plugin.traefik-api-key-middleware.removeHeadersOnSuccess:true traefik.http.routers.case-gateway.middlewares:apiKey traefik.http.routers.case-gateway.rule:Host(`case-gateway.docker.localhost`)]} Scope:local Time:1689566860 TimeNano:1689566860973897403}" providerName=docker
time="2023-07-17T04:07:42Z" level=debug msg="Configuration received: {\"http\":{\"routers\":{\"case-gateway\":{\"middlewares\":[\"apiKey\"],\"service\":\"case-gateway-traefik\",\"rule\":\"Host(`case-gateway.docker.localhost`)\"},\"traefik-traefik\":{\"service\":\"traefik-traefik\",\"rule\":\"Host(`traefik-traefik`)\"},\"whoami\":{\"middlewares\":[\"apiKey\"],\"service\":\"whoami-traefik\",\"rule\":\"Host(`whoami.docker.localhost`) || Path(`/whoami`) || HeadersRegexp(`X-Forwarded-For`, `.+`)\"},\"wsrs-v3\":{\"service\":\"wsrs-v3-traefik\",\"rule\":\"Host(`wsrs-v3.docker.localhost`)\"}},\"services\":{\"case-gateway-traefik\":{\"loadBalancer\":{\"servers\":[{\"url\":\"http://172.21.0.5:8000\"}],\"passHostHeader\":true}},\"traefik-traefik\":{\"loadBalancer\":{\"servers\":[{\"url\":\"http://172.21.0.4:80\"}],\"passHostHeader\":true}},\"whoami-traefik\":{\"loadBalancer\":{\"servers\":[{\"url\":\"http://172.21.0.2:80\"}],\"passHostHeader\":true}},\"wsrs-v3-traefik\":{\"loadBalancer\":{\"servers\":[{\"url\":\"http://172.21.0.3:9000\"}],\"passHostHeader\":true}}},\"middlewares\":{\"apiKey\":{\"plugin\":{\"traefik-api-key-middleware\":{\"authenticationHeader\":\"true\",\"authenticationheaderName\":\"X-API-KEY\",\"bearerHeader\":\"true\",\"bearerHeaderName\":\"Authorization\",\"keys\":\"b8e471ed-9f78-4b0e-9f0d-ba3c9339f3b6,ff08048b-ebf9-4dca-b3bd-2935738dd108\",\"removeHeadersOnSuccess\":\"true\"}}}}},\"tcp\":{},\"udp\":{}}" providerName=docker
time="2023-07-17T04:07:42Z" level=debug msg="No entryPoint defined for this router, using the default one(s) instead: [http]" routerName=whoami
time="2023-07-17T04:07:42Z" level=debug msg="No entryPoint defined for this router, using the default one(s) instead: [http]" routerName=wsrs-v3
time="2023-07-17T04:07:42Z" level=debug msg="No entryPoint defined for this router, using the default one(s) instead: [http]" routerName=case-gateway
time="2023-07-17T04:07:42Z" level=debug msg="No entryPoint defined for this router, using the default one(s) instead: [http]" routerName=traefik-traefik
time="2023-07-17T04:07:42Z" level=debug msg="No default certificate, fallback to the internal generated certificate" tlsStoreName=default
time="2023-07-17T04:07:42Z" level=debug msg="Creating middleware" middlewareType=Pipelining entryPointName=http routerName=traefik-traefik@docker serviceName=traefik-traefik middlewareName=pipelining
time="2023-07-17T04:07:42Z" level=debug msg="Creating load-balancer" entryPointName=http routerName=traefik-traefik@docker serviceName=traefik-traefik
time="2023-07-17T04:07:42Z" level=debug msg="Creating server 0 http://172.21.0.4:80" entryPointName=http routerName=traefik-traefik@docker serviceName=traefik-traefik serverName=0
time="2023-07-17T04:07:42Z" level=debug msg="child http://172.21.0.4:80 now UP"
time="2023-07-17T04:07:42Z" level=debug msg="Propagating new UP status"
time="2023-07-17T04:07:42Z" level=debug msg="Added outgoing tracing middleware traefik-traefik" entryPointName=http routerName=traefik-traefik@docker middlewareName=tracing middlewareType=TracingForwarder
time="2023-07-17T04:07:42Z" level=debug msg="Creating middleware" entryPointName=http middlewareName=pipelining middlewareType=Pipelining routerName=whoami@docker serviceName=whoami-traefik
time="2023-07-17T04:07:42Z" level=debug msg="Creating load-balancer" serviceName=whoami-traefik entryPointName=http routerName=whoami@docker
time="2023-07-17T04:07:42Z" level=debug msg="Creating server 0 http://172.21.0.2:80" routerName=whoami@docker serviceName=whoami-traefik entryPointName=http serverName=0
time="2023-07-17T04:07:42Z" level=debug msg="child http://172.21.0.2:80 now UP"
time="2023-07-17T04:07:42Z" level=debug msg="Propagating new UP status"
time="2023-07-17T04:07:42Z" level=debug msg="Added outgoing tracing middleware whoami-traefik" entryPointName=http routerName=whoami@docker middlewareName=tracing middlewareType=TracingForwarder
time="2023-07-17T04:07:42Z" level=debug msg="Creating plugin: apiKey@docker instance: {AuthenticationHeader:true AuthenticationHeaderName:X-API-KEY BearerHeader:true BearerHeaderName:Authorization Keys:[b8e471ed-9f78-4b0e-9f0d-ba3c9339f3b6 ff08048b-ebf9-4dca-b3bd-2935738dd108] RemoveHeadersOnSuccess:true}, ctx: context.Background.WithValue(type log.contextKey, val <not Stringer>).WithValue(type provider.contextKey, val docker).WithValue(type log.contextKey, val <not Stringer>).WithValue(type middleware.middlewareStackType, val <not Stringer>)" plugin=plugin-traefik-api-key-middleware module=github.com/dtomlinson91/traefik-api-key-middleware
time="2023-07-17T04:07:42Z" level=debug msg="Creating middleware" serviceName=wsrs-v3-traefik middlewareName=pipelining middlewareType=Pipelining entryPointName=http routerName=wsrs-v3@docker
time="2023-07-17T04:07:42Z" level=debug msg="Creating load-balancer" entryPointName=http routerName=wsrs-v3@docker serviceName=wsrs-v3-traefik
time="2023-07-17T04:07:42Z" level=debug msg="Creating server 0 http://172.21.0.3:9000" routerName=wsrs-v3@docker serverName=0 serviceName=wsrs-v3-traefik entryPointName=http
time="2023-07-17T04:07:42Z" level=debug msg="child http://172.21.0.3:9000 now UP"
time="2023-07-17T04:07:42Z" level=debug msg="Propagating new UP status"
time="2023-07-17T04:07:42Z" level=debug msg="Added outgoing tracing middleware wsrs-v3-traefik" entryPointName=http routerName=wsrs-v3@docker middlewareName=tracing middlewareType=TracingForwarder
time="2023-07-17T04:07:42Z" level=debug msg="Creating middleware" entryPointName=http routerName=case-gateway@docker serviceName=case-gateway-traefik middlewareName=pipelining middlewareType=Pipelining
time="2023-07-17T04:07:42Z" level=debug msg="Creating load-balancer" routerName=case-gateway@docker serviceName=case-gateway-traefik entryPointName=http
time="2023-07-17T04:07:42Z" level=debug msg="Creating server 0 http://172.21.0.5:8000" entryPointName=http routerName=case-gateway@docker serviceName=case-gateway-traefik serverName=0
time="2023-07-17T04:07:42Z" level=debug msg="child http://172.21.0.5:8000 now UP"
time="2023-07-17T04:07:42Z" level=debug msg="Propagating new UP status"
time="2023-07-17T04:07:42Z" level=debug msg="Added outgoing tracing middleware case-gateway-traefik" middlewareType=TracingForwarder entryPointName=http routerName=case-gateway@docker middlewareName=tracing
time="2023-07-17T04:07:42Z" level=debug msg="Creating plugin: apiKey@docker instance: {AuthenticationHeader:true AuthenticationHeaderName:X-API-KEY BearerHeader:true BearerHeaderName:Authorization Keys:[b8e471ed-9f78-4b0e-9f0d-ba3c9339f3b6 ff08048b-ebf9-4dca-b3bd-2935738dd108] RemoveHeadersOnSuccess:true}, ctx: context.Background.WithValue(type log.contextKey, val <not Stringer>).WithValue(type provider.contextKey, val docker).WithValue(type log.contextKey, val <not Stringer>).WithValue(type middleware.middlewareStackType, val <not Stringer>)" plugin=plugin-traefik-api-key-middleware module=github.com/dtomlinson91/traefik-api-key-middleware
time="2023-07-17T04:07:42Z" level=debug msg="Creating middleware" entryPointName=http middlewareName=traefik-internal-recovery middlewareType=Recovery
time="2023-07-17T04:07:42Z" level=debug msg="Added outgoing tracing middleware dashboard@internal" middlewareType=TracingForwarder entryPointName=traefik routerName=dashboard@internal middlewareName=tracing
time="2023-07-17T04:07:42Z" level=debug msg="Creating middleware" middlewareName=dashboard_stripprefix@internal middlewareType=StripPrefix entryPointName=traefik routerName=dashboard@internal
time="2023-07-17T04:07:42Z" level=debug msg="Adding tracing to middleware" entryPointName=traefik routerName=dashboard@internal middlewareName=dashboard_stripprefix@internal
time="2023-07-17T04:07:42Z" level=debug msg="Creating middleware" entryPointName=traefik routerName=dashboard@internal middlewareName=dashboard_redirect@internal middlewareType=RedirectRegex
time="2023-07-17T04:07:42Z" level=debug msg="Setting up redirection from ^(http:\\/\\/(\\[[\\w:.]+\\]|[\\w\\._-]+)(:\\d+)?)\\/$ to ${1}/dashboard/" routerName=dashboard@internal middlewareName=dashboard_redirect@internal middlewareType=RedirectRegex entryPointName=traefik
time="2023-07-17T04:07:42Z" level=debug msg="Adding tracing to middleware" routerName=dashboard@internal middlewareName=dashboard_redirect@internal entryPointName=traefik
time="2023-07-17T04:07:42Z" level=debug msg="Added outgoing tracing middleware api@internal" routerName=api@internal middlewareType=TracingForwarder middlewareName=tracing entryPointName=traefik
time="2023-07-17T04:07:42Z" level=debug msg="Creating middleware" entryPointName=traefik middlewareName=traefik-internal-recovery middlewareType=Recovery
time="2023-07-17T04:07:42Z" level=debug msg="Creating middleware" middlewareType=TracingEntryPoint entryPointName=http middlewareName=tracing
time="2023-07-17T04:07:42Z" level=debug msg="Creating middleware" entryPointName=traefik middlewareType=TracingEntryPoint middlewareName=tracing
time="2023-07-17T04:07:42Z" level=debug msg="Creating middleware" middlewareName=tracing middlewareType=TracingEntryPoint entryPointName=http
time="2023-07-17T04:07:42Z" level=debug msg="Creating middleware" entryPointName=traefik middlewareName=tracing middlewareType=TracingEntryPoint
